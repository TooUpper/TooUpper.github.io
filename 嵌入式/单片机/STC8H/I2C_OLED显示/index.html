<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="OLED（有机发光二极管，Organic Light-Emitting Diode） 是一种显示技术，通过使用有机材料在电流通过时自发光来产生图像。与传统的 LCD（液晶显示器）不同，OLED 不需要背光源，因此可以实现更薄的显示器，并且具备许多独特的优点。 I2C 协议I2C（Inter-Integrated Circuit）协议是一种广泛使用的双线同步串行通信协议，由飞利浦半导体（现为恩智浦半">
<meta property="og:type" content="article">
<meta property="og:title" content="I2C_OLED显示">
<meta property="og:url" content="https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/index.html">
<meta property="og:site_name" content="流年不知心底事">
<meta property="og:description" content="OLED（有机发光二极管，Organic Light-Emitting Diode） 是一种显示技术，通过使用有机材料在电流通过时自发光来产生图像。与传统的 LCD（液晶显示器）不同，OLED 不需要背光源，因此可以实现更薄的显示器，并且具备许多独特的优点。 I2C 协议I2C（Inter-Integrated Circuit）协议是一种广泛使用的双线同步串行通信协议，由飞利浦半导体（现为恩智浦半">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.tooupper.org/public/image/%E5%B5%8C%E5%85%A5%E5%BC%8F/MCU/STC8H/OLEDyinjioatu.png">
<meta property="article:published_time" content="2024-09-15T03:32:00.000Z">
<meta property="article:modified_time" content="2025-01-07T10:58:33.664Z">
<meta property="article:author" content="kay">
<meta property="article:tag" content="STC8H">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.tooupper.org/public/image/%E5%B5%8C%E5%85%A5%E5%BC%8F/MCU/STC8H/OLEDyinjioatu.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>I2C_OLED显示</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<meta name="generator" content="Hexo 7.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="顶部" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">博主</a></li><!--
     --><!--
       --><li><a href="/tags/">标签</a></li><!--
     --><!--
       --><li><a href="/categories/">分类</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/search/">搜索</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="上一篇" href="/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/ARM/Cortex-M3/STM32/STM32F103/STM32F103C8T6/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="下一篇" href="/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/%E4%B8%AD%E6%96%AD/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="返回顶部" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&text=I2C_OLED显示"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&title=I2C_OLED显示"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&is_video=false&description=I2C_OLED显示"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=I2C_OLED显示&body=Check out this article: https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&title=I2C_OLED显示"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&title=I2C_OLED显示"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&title=I2C_OLED显示"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&title=I2C_OLED显示"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&name=I2C_OLED显示&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&t=I2C_OLED显示"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#I2C-%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.</span> <span class="toc-text">I2C 协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSD1306"><span class="toc-number">2.</span> <span class="toc-text">SSD1306</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.1.</span> <span class="toc-text">实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6%E6%A8%A1%E6%8B%9F"><span class="toc-number">2.1.1.</span> <span class="toc-text">软件模拟</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A1%AC%E4%BB%B6%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.1.2.</span> <span class="toc-text">硬件实现</span></a></li></ol></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        I2C_OLED显示
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">kay</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2024-09-15T03:32:00.000Z" class="dt-published" itemprop="datePublished">2024-09-15</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/">嵌入式</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/STC8H/" rel="tag">STC8H</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <p><strong>OLED（有机发光二极管，Organic Light-Emitting Diode）</strong> 是一种显示技术，通过使用有机材料在电流通过时自发光来产生图像。与传统的 LCD（液晶显示器）不同，OLED 不需要背光源，因此可以实现更薄的显示器，并且具备许多独特的优点。</p>
<h2 id="I2C-协议"><a href="#I2C-协议" class="headerlink" title="I2C 协议"></a>I2C 协议</h2><p>I2C（Inter-Integrated Circuit）协议是一种广泛使用的<strong>双线同步串行通信协议</strong>，由飞利浦半导体（现为恩智浦半导体）在1982年发明。该协议以其简单的硬件连接和灵活的设备支持，在嵌入式系统和各种电子设备中得到了广泛应用。</p>
<p><strong>I2C 特点</strong></p>
<ul>
<li><strong>双线通信</strong>：I2C 是一种<strong>双线通信</strong>协议，使用两条线进行数据传输<ul>
<li><strong>SDA（Serial Data Line）</strong>: 用于数据传输的双向数据线。</li>
<li><strong>SCL（Serial Clock Line）</strong>: 用于同步数据传输的时钟线，由主设备生成时钟信号。</li>
</ul>
</li>
<li><strong>主从架构</strong>：支持<strong>多个主设备</strong>和<strong>多个从设备</strong>，可以灵活配置<ul>
<li><strong>主设备（Master）</strong>: 控制通信过程，生成时钟信号，并决定是发送数据还是接收数据。</li>
<li><strong>从设备（Slave）</strong>: 被动响应主设备的操作，它根据主设备发出的指令接收或发送数据。</li>
<li><strong>唯一地址</strong>: 每个从设备在总线上都有一个唯一的 7 位或 10 位地址，主设备通过地址识别与哪个从设备通信。</li>
</ul>
</li>
<li><strong>同步通信</strong>：时钟信号由主设备控制，从设备被动接收；但多主设备时主设备之间不能同时发起通信。</li>
<li><strong>寻址机制</strong>：每个从设备都有一个唯一的地址，主设备通过地址来选择与哪个从设备通信。</li>
</ul>
<p><strong>I2C 的通信过程</strong></p>
<ol>
<li><p><strong>起始条件（START Condition）</strong></p>
<ul>
<li>主设备将 SDA 线从<strong>高电平拉低</strong>，同时 SCL 保持高电平。这告诉所有从设备即将开始通信。</li>
</ul>
</li>
<li><p><strong>发送设备地址（Address Phase）</strong></p>
<ul>
<li><p>主设备接着发送从设备的<strong>7 位地址</strong>（或 10 位地址，视协议扩展），紧接着一个<strong>读&#x2F;写位</strong>（1 表示读，0 表示写）。SDA 在 SCL 时钟的<strong>高电平期间</strong>发送地址。</p>
</li>
<li><p>从设备检查地址是否与自身匹配，匹配的设备将准备回应。</p>
</li>
</ul>
</li>
<li><p><strong>应答（ACK&#x2F;NACK）</strong></p>
<ul>
<li>在地址发送后，从设备将<strong>拉低 SDA 线</strong>表示应答（ACK）。如果 SDA 保持高电平，则表示无应答（NACK），通信终止。</li>
</ul>
</li>
<li><p><strong>数据传输（Data Transfer Phase）</strong></p>
<ul>
<li><p>主设备开始发送或接收数据（视读&#x2F;写位）。每次数据传输是 8 位，数据在 SCL 线的<strong>高电平期间</strong>稳定，接收端读取数据。</p>
</li>
<li><p>每 8 位数据后，接收端发送一个应答信号（ACK&#x2F;NACK）。如果发送结束，接收端会发 NACK，表示数据结束。</p>
</li>
</ul>
</li>
<li><p><strong>停止条件（STOP Condition）</strong></p>
<ul>
<li>主设备将 SDA 从<strong>低电平拉高</strong>，同时 SCL 保持高电平，表示数据传输结束，释放总线。</li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>通信流程总结：</strong></p>
<ol>
<li>起始条件（START）</li>
<li>发送设备地址 + 读&#x2F;写位</li>
<li>应答信号（ACK）</li>
<li>传输数据（8 位）</li>
<li>接收设备发送应答（ACK&#x2F;NACK）</li>
<li>如果有更多数据，重复步骤 4-5</li>
<li>发送停止条件（STOP）</li>
</ol>
<p>这种过程可以让主设备与多个从设备通信，因为每个从设备都有独立的地址。</p>
</blockquote>
<h2 id="SSD1306"><a href="#SSD1306" class="headerlink" title="SSD1306"></a>SSD1306</h2><p><strong>SSD1306</strong> 是一款常用的单色 OLED（有机发光二极管）显示控制器驱动芯片，广泛用于小型OLED屏幕中，如 128x64 或 128x32 分辨率的显示屏。它的设计专为驱动OLED面板，并通过 I2C、SPI 或并行接口与微控制器或单片机通信。</p>
<h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><p><strong>引脚图</strong></p>
<p><img src="/public/image/%E5%B5%8C%E5%85%A5%E5%BC%8F/MCU/STC8H/OLEDyinjioatu.png" alt="OLEDyinjioatu"></p>
<h4 id="软件模拟"><a href="#软件模拟" class="headerlink" title="软件模拟"></a>软件模拟</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.c</span></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////////////////////////	 </span></span><br><span class="line"><span class="comment">//本程序只供学习使用，未经作者许可，不得用于其它任何用途</span></span><br><span class="line"><span class="comment">//中景园电子</span></span><br><span class="line"><span class="comment">//店铺地址：http://shop73023976.taobao.com/?spm=2013.1.0.0.M4PqC2</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  文 件 名   : main.c</span></span><br><span class="line"><span class="comment">//  版 本 号   : v2.0</span></span><br><span class="line"><span class="comment">//  作    者   : HuangKai</span></span><br><span class="line"><span class="comment">//  生成日期   : 2014-0101</span></span><br><span class="line"><span class="comment">//  最近修改   : </span></span><br><span class="line"><span class="comment">//  功能描述   : OLED 4接口演示例程(51系列)</span></span><br><span class="line"><span class="comment">//              说明: </span></span><br><span class="line"><span class="comment">//              ----------------------------------------------------------------</span></span><br><span class="line"><span class="comment">//              GND    电源地</span></span><br><span class="line"><span class="comment">//              VCC  接5V或3.3v电源</span></span><br><span class="line"><span class="comment">//              SCL  P10（SCL）</span></span><br><span class="line"><span class="comment">//              SDA  P11（SDA）</span></span><br><span class="line"><span class="comment">//              RES  P12 注：SPI接口显示屏改成IIC接口时需要接RES引脚</span></span><br><span class="line"><span class="comment">//                           IIC接口显示屏用户请忽略</span></span><br><span class="line"><span class="comment">//              ----------------------------------------------------------------</span></span><br><span class="line"><span class="comment">// 修改历史   :</span></span><br><span class="line"><span class="comment">// 日    期   : </span></span><br><span class="line"><span class="comment">// 作    者   : HuangKai</span></span><br><span class="line"><span class="comment">// 修改内容   : 创建文件</span></span><br><span class="line"><span class="comment">//版权所有，盗版必究。</span></span><br><span class="line"><span class="comment">//Copyright(C) 中景园电子2014/3/16</span></span><br><span class="line"><span class="comment">//All rights reserved</span></span><br><span class="line"><span class="comment">//******************************************************************************/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;oled.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bmp.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;STC8G_H_GPIO.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">GPIO_Config</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">	GPIO_InitTypeDef GPIO_Init;</span><br><span class="line">	GPIO_Init.Mode = GPIO_PullUp;</span><br><span class="line">	GPIO_Init.Pin = GPIO_Pin_2 | GPIO_Pin_3;</span><br><span class="line"></span><br><span class="line">	GPIO_Inilize(GPIO_P3, &amp;GPIO_Init);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;	</span><br><span class="line">		u8 t=<span class="string">&#x27; &#x27;</span>;</span><br><span class="line"></span><br><span class="line">	GPIO_Config();</span><br><span class="line">	OLED_Init();<span class="comment">//初始化OLED</span></span><br><span class="line">	</span><br><span class="line">	OLED_ColorTurn(<span class="number">0</span>);<span class="comment">//0正常显示，1 反色显示</span></span><br><span class="line">  	OLED_DisplayTurn(<span class="number">0</span>);<span class="comment">//0正常显示 1 屏幕翻转显示</span></span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>) &#123;		</span><br><span class="line">		OLED_DrawBMP(<span class="number">0</span>,<span class="number">0</span>,<span class="number">128</span>,<span class="number">64</span>,BMP1);</span><br><span class="line">		delay_ms(<span class="number">500</span>);</span><br><span class="line">		OLED_Clear();</span><br><span class="line">		OLED_ShowChinese(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">16</span>);<span class="comment">//中</span></span><br><span class="line">		OLED_ShowChinese(<span class="number">18</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">16</span>);<span class="comment">//景</span></span><br><span class="line">		OLED_ShowChinese(<span class="number">36</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">16</span>);<span class="comment">//园</span></span><br><span class="line">		OLED_ShowChinese(<span class="number">54</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">16</span>);<span class="comment">//电</span></span><br><span class="line">		OLED_ShowChinese(<span class="number">72</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">16</span>);<span class="comment">//子</span></span><br><span class="line">		OLED_ShowChinese(<span class="number">90</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">16</span>);<span class="comment">//科</span></span><br><span class="line">		OLED_ShowChinese(<span class="number">108</span>,<span class="number">0</span>,<span class="number">6</span>,<span class="number">16</span>);<span class="comment">//技</span></span><br><span class="line">		OLED_ShowString(<span class="number">8</span>,<span class="number">2</span>,<span class="string">&quot;ZHONGJINGYUAN&quot;</span>,<span class="number">16</span>);</span><br><span class="line">		OLED_ShowString(<span class="number">20</span>,<span class="number">4</span>,<span class="string">&quot;2014/05/01&quot;</span>,<span class="number">16</span>);</span><br><span class="line">		OLED_ShowString(<span class="number">0</span>,<span class="number">6</span>,<span class="string">&quot;ASCII:&quot;</span>,<span class="number">16</span>);  </span><br><span class="line">		OLED_ShowString(<span class="number">63</span>,<span class="number">6</span>,<span class="string">&quot;CODE:&quot;</span>,<span class="number">16</span>);</span><br><span class="line">		OLED_ShowChar(<span class="number">48</span>,<span class="number">6</span>,t,<span class="number">16</span>);</span><br><span class="line">		t++;</span><br><span class="line">		<span class="keyword">if</span>(t&gt;<span class="string">&#x27;~&#x27;</span>)t=<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">		OLED_ShowNum(<span class="number">103</span>,<span class="number">6</span>,t,<span class="number">3</span>,<span class="number">16</span>);</span><br><span class="line">		delay_ms(<span class="number">500</span>);</span><br><span class="line">		OLED_Clear();</span><br><span class="line">	&#125;	  	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">===========================================================================</span><br><span class="line"><span class="comment">// olde.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __OLED_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __OLED_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Config.h&quot;</span>	  	 </span></span><br><span class="line">	</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OLED_CMD  0	<span class="comment">//写命令</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OLED_DATA 1	<span class="comment">//写数据</span></span></span><br><span class="line"></span><br><span class="line">sbit OLED_SCL=P3^<span class="number">2</span>;<span class="comment">//SCL</span></span><br><span class="line">sbit OLED_SDA=P3^<span class="number">3</span>;<span class="comment">//SDA</span></span><br><span class="line">sbit OLED_RES =P1^<span class="number">2</span>;<span class="comment">//RES</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//-----------------OLED端口定义----------------</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OLED_SCL_Clr() OLED_SCL=0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OLED_SCL_Set() OLED_SCL=1</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OLED_SDA_Clr() OLED_SDA=0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OLED_SDA_Set() OLED_SDA=1</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OLED_RES_Clr() OLED_RES=0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OLED_RES_Set() OLED_RES=1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//OLED控制用函数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_ms</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> ms)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_ColorTurn</span><span class="params">(u8 i)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_DisplayTurn</span><span class="params">(u8 i)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_WR_Byte</span><span class="params">(u8 dat,u8 cmd)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_Set_Pos</span><span class="params">(u8 x, u8 y)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_Display_On</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_Display_Off</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_Clear</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_ShowChar</span><span class="params">(u8 x,u8 y,u8 chr,u8 sizey)</span>;</span><br><span class="line">u32 <span class="title function_">oled_pow</span><span class="params">(u8 m,u8 n)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_ShowNum</span><span class="params">(u8 x,u8 y,u32 num,u8 len,u8 sizey)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_ShowString</span><span class="params">(u8 x,u8 y,u8 *chr,u8 sizey)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_ShowChinese</span><span class="params">(u8 x,u8 y,u8 no,u8 sizey)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_DrawBMP</span><span class="params">(u8 x,u8 y,u8 sizex, u8 sizey,u8 BMP[])</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span>  </span></span><br><span class="line">=============================================================</span><br><span class="line"><span class="comment">// olde.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;oled.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;oledfont.h&quot;</span>  	 </span></span><br><span class="line"><span class="comment">//OLED的显存</span></span><br><span class="line"><span class="comment">//存放格式如下.</span></span><br><span class="line"><span class="comment">//[0]0 1 2 3 ... 127	</span></span><br><span class="line"><span class="comment">//[1]0 1 2 3 ... 127	</span></span><br><span class="line"><span class="comment">//[2]0 1 2 3 ... 127	</span></span><br><span class="line"><span class="comment">//[3]0 1 2 3 ... 127	</span></span><br><span class="line"><span class="comment">//[4]0 1 2 3 ... 127	</span></span><br><span class="line"><span class="comment">//[5]0 1 2 3 ... 127	</span></span><br><span class="line"><span class="comment">//[6]0 1 2 3 ... 127	</span></span><br><span class="line"><span class="comment">//[7]0 1 2 3 ... 127 			   </span></span><br><span class="line"><span class="type">void</span> delay_ms(<span class="type">unsigned</span> <span class="type">int</span> ms) &#123;                         </span><br><span class="line">	<span class="type">unsigned</span> <span class="type">int</span> a;</span><br><span class="line">	<span class="keyword">while</span>(ms) &#123;</span><br><span class="line">		a=<span class="number">1800</span>;</span><br><span class="line">		<span class="keyword">while</span>(a--);</span><br><span class="line">		ms--;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//反显函数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_ColorTurn</span><span class="params">(u8 i)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span>(i==<span class="number">0</span>) &#123;</span><br><span class="line">			OLED_WR_Byte(<span class="number">0xA6</span>,OLED_CMD);<span class="comment">//正常显示</span></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">if</span>(i==<span class="number">1</span>) &#123;</span><br><span class="line">			OLED_WR_Byte(<span class="number">0xA7</span>,OLED_CMD);<span class="comment">//反色显示</span></span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//屏幕旋转180度</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_DisplayTurn</span><span class="params">(u8 i)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span>(i==<span class="number">0</span>) &#123;</span><br><span class="line">			OLED_WR_Byte(<span class="number">0xC8</span>,OLED_CMD);<span class="comment">//正常显示</span></span><br><span class="line">			OLED_WR_Byte(<span class="number">0xA1</span>,OLED_CMD);</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">if</span>(i==<span class="number">1</span>) &#123;</span><br><span class="line">			OLED_WR_Byte(<span class="number">0xC0</span>,OLED_CMD);<span class="comment">//反转显示</span></span><br><span class="line">			OLED_WR_Byte(<span class="number">0xA0</span>,OLED_CMD);</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//延时</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">IIC_delay</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">	u8 t=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(t--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//起始信号</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">I2C_Start</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">	OLED_SDA_Set();</span><br><span class="line">	OLED_SCL_Set();</span><br><span class="line">	IIC_delay();</span><br><span class="line">	OLED_SDA_Clr();</span><br><span class="line">	IIC_delay();</span><br><span class="line">	OLED_SCL_Clr();	 </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//结束信号</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">I2C_Stop</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">	OLED_SDA_Clr();</span><br><span class="line">	OLED_SCL_Set();</span><br><span class="line">	IIC_delay();</span><br><span class="line">	OLED_SDA_Set();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//等待信号响应</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">I2C_WaitAck</span><span class="params">(<span class="type">void</span>)</span> &#123;<span class="comment">//测数据信号的电平</span></span><br><span class="line">	OLED_SDA_Set();</span><br><span class="line">	IIC_delay();</span><br><span class="line">	OLED_SCL_Set();</span><br><span class="line">	IIC_delay();</span><br><span class="line">	OLED_SCL_Clr();</span><br><span class="line">	IIC_delay();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//写入一个字节</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Send_Byte</span><span class="params">(u8 dat)</span> &#123;</span><br><span class="line">	u8 i;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++) &#123;        </span><br><span class="line">		OLED_SCL_Clr();<span class="comment">//将时钟信号设置为低电平</span></span><br><span class="line">		<span class="keyword">if</span>(dat&amp;<span class="number">0x80</span>) &#123; <span class="comment">//将dat的8位从最高位依次写入</span></span><br><span class="line">			OLED_SDA_Set();</span><br><span class="line">    	&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			OLED_SDA_Clr();</span><br><span class="line">    	&#125;</span><br><span class="line">		IIC_delay(); <span class="comment">// 延时</span></span><br><span class="line">		OLED_SCL_Set(); <span class="comment">// 拉高信号线（高电平时写入）</span></span><br><span class="line">		IIC_delay(); 	<span class="comment">// 延时</span></span><br><span class="line">		OLED_SCL_Clr(); <span class="comment">// 拉低信号线</span></span><br><span class="line">		dat&lt;&lt;=<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//发送一个字节</span></span><br><span class="line"><span class="comment">//向SSD1306写入一个字节。</span></span><br><span class="line"><span class="comment">//mode:数据/命令标志 0,表示命令;1,表示数据;</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_WR_Byte</span><span class="params">(u8 dat,u8 mode)</span> &#123;</span><br><span class="line">	I2C_Start();</span><br><span class="line">	Send_Byte(<span class="number">0x78</span>);</span><br><span class="line">	I2C_WaitAck();</span><br><span class="line">	<span class="keyword">if</span>(mode)&#123;Send_Byte(<span class="number">0x40</span>);&#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;Send_Byte(<span class="number">0x00</span>);&#125;</span><br><span class="line">	I2C_WaitAck();</span><br><span class="line">	Send_Byte(dat);</span><br><span class="line">	I2C_WaitAck();</span><br><span class="line">	I2C_Stop();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//坐标设置</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_Set_Pos</span><span class="params">(u8 x, u8 y)</span> &#123; </span><br><span class="line">	OLED_WR_Byte(<span class="number">0xb0</span>+y,OLED_CMD);</span><br><span class="line">	OLED_WR_Byte(((x&amp;<span class="number">0xf0</span>)&gt;&gt;<span class="number">4</span>)|<span class="number">0x10</span>,OLED_CMD);</span><br><span class="line">	OLED_WR_Byte((x&amp;<span class="number">0x0f</span>),OLED_CMD);</span><br><span class="line">&#125;   	  </span><br><span class="line"><span class="comment">//开启OLED显示    </span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_Display_On</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">	OLED_WR_Byte(<span class="number">0X8D</span>,OLED_CMD);  <span class="comment">//SET DCDC命令</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0X14</span>,OLED_CMD);  <span class="comment">//DCDC ON</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0XAF</span>,OLED_CMD);  <span class="comment">//DISPLAY ON</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//关闭OLED显示     </span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_Display_Off</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">	OLED_WR_Byte(<span class="number">0X8D</span>,OLED_CMD);  <span class="comment">//SET DCDC命令</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0X10</span>,OLED_CMD);  <span class="comment">//DCDC OFF</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0XAE</span>,OLED_CMD);  <span class="comment">//DISPLAY OFF</span></span><br><span class="line">&#125;		   			 </span><br><span class="line"><span class="comment">//清屏函数,清完屏,整个屏幕是黑色的!和没点亮一样!!!	  </span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_Clear</span><span class="params">(<span class="type">void</span>)</span> &#123;  </span><br><span class="line">	u8 i,n;		    </span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++) &#123;  </span><br><span class="line">		OLED_WR_Byte (<span class="number">0xb0</span>+i,OLED_CMD);    <span class="comment">//设置页地址（0~7）</span></span><br><span class="line">		OLED_WR_Byte (<span class="number">0x00</span>,OLED_CMD);      <span class="comment">//设置显示位置—列低地址</span></span><br><span class="line">		OLED_WR_Byte (<span class="number">0x10</span>,OLED_CMD);      <span class="comment">//设置显示位置—列高地址   </span></span><br><span class="line">		<span class="keyword">for</span>(n=<span class="number">0</span>;n&lt;<span class="number">128</span>;n++)OLED_WR_Byte(<span class="number">0</span>,OLED_DATA); </span><br><span class="line">	&#125; <span class="comment">//更新显示</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在指定位置显示一个字符,包括部分字符</span></span><br><span class="line"><span class="comment">//x:0~127</span></span><br><span class="line"><span class="comment">//y:0~63				 </span></span><br><span class="line"><span class="comment">//sizey:选择字体 6x8  8x16</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_ShowChar</span><span class="params">(u8 x,u8 y,u8 chr,u8 sizey)</span> &#123;      	</span><br><span class="line">	u8 c=<span class="number">0</span>,sizex=sizey/<span class="number">2</span>;</span><br><span class="line">	u16 i=<span class="number">0</span>,size1;</span><br><span class="line">	<span class="keyword">if</span>(sizey==<span class="number">8</span>)size1=<span class="number">6</span>;</span><br><span class="line">	<span class="keyword">else</span> size1=(sizey/<span class="number">8</span>+((sizey%<span class="number">8</span>)?<span class="number">1</span>:<span class="number">0</span>))*(sizey/<span class="number">2</span>);</span><br><span class="line">	c=chr-<span class="string">&#x27; &#x27;</span>;<span class="comment">//得到偏移后的值</span></span><br><span class="line">	OLED_Set_Pos(x,y);</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;size1;i++) &#123;</span><br><span class="line">		<span class="keyword">if</span>(i%sizex==<span class="number">0</span>&amp;&amp;sizey!=<span class="number">8</span>) OLED_Set_Pos(x,y++);</span><br><span class="line">		<span class="keyword">if</span>(sizey==<span class="number">8</span>) OLED_WR_Byte(asc2_0806[c][i],OLED_DATA);<span class="comment">//6X8字号</span></span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(sizey==<span class="number">16</span>) OLED_WR_Byte(asc2_1608[c][i],OLED_DATA);<span class="comment">//8x16字号</span></span><br><span class="line"><span class="comment">//		else if(sizey==xx) OLED_WR_Byte(asc2_xxxx[c][i],OLED_DATA);//用户添加字号</span></span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//m^n函数</span></span><br><span class="line">u32 <span class="title function_">oled_pow</span><span class="params">(u8 m,u8 n)</span> &#123;</span><br><span class="line">	u32 result=<span class="number">1</span>;	 </span><br><span class="line">	<span class="keyword">while</span>(n--)result*=m;    </span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;				  </span><br><span class="line"><span class="comment">//显示数字</span></span><br><span class="line"><span class="comment">//x,y :起点坐标</span></span><br><span class="line"><span class="comment">//num:要显示的数字</span></span><br><span class="line"><span class="comment">//len :数字的位数</span></span><br><span class="line"><span class="comment">//sizey:字体大小		  </span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_ShowNum</span><span class="params">(u8 x,u8 y,u32 num,u8 len,u8 sizey)</span> &#123;         	</span><br><span class="line">	u8 t,temp,m=<span class="number">0</span>;</span><br><span class="line">	u8 enshow=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span>(sizey==<span class="number">8</span>)m=<span class="number">2</span>;</span><br><span class="line">	<span class="keyword">for</span>(t=<span class="number">0</span>;t&lt;len;t++) &#123;</span><br><span class="line">		temp=(num/oled_pow(<span class="number">10</span>,len-t<span class="number">-1</span>))%<span class="number">10</span>;</span><br><span class="line">		<span class="keyword">if</span>(enshow==<span class="number">0</span>&amp;&amp;t&lt;(len<span class="number">-1</span>)) &#123;</span><br><span class="line">			<span class="keyword">if</span>(temp==<span class="number">0</span>) &#123;</span><br><span class="line">				OLED_ShowChar(x+(sizey/<span class="number">2</span>+m)*t,y,<span class="string">&#x27; &#x27;</span>,sizey);</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span> enshow=<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	 	OLED_ShowChar(x+(sizey/<span class="number">2</span>+m)*t,y,temp+<span class="string">&#x27;0&#x27;</span>,sizey);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//显示一个字符号串</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_ShowString</span><span class="params">(u8 x,u8 y,u8 *chr,u8 sizey)</span> &#123;</span><br><span class="line">	u8 j=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (chr[j]!=<span class="string">&#x27;\0&#x27;</span>) &#123;		</span><br><span class="line">		OLED_ShowChar(x,y,chr[j++],sizey);</span><br><span class="line">		<span class="keyword">if</span>(sizey==<span class="number">8</span>)x+=<span class="number">6</span>;</span><br><span class="line">		<span class="keyword">else</span> x+=sizey/<span class="number">2</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//显示汉字</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_ShowChinese</span><span class="params">(u8 x,u8 y,u8 no,u8 sizey)</span> &#123;</span><br><span class="line">	u16 i,size1=(sizey/<span class="number">8</span>+((sizey%<span class="number">8</span>)?<span class="number">1</span>:<span class="number">0</span>))*sizey;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;size1;i++) &#123;</span><br><span class="line">		<span class="keyword">if</span>(i%sizey==<span class="number">0</span>) OLED_Set_Pos(x,y++);</span><br><span class="line">		<span class="keyword">if</span>(sizey==<span class="number">16</span>) OLED_WR_Byte(Hzk[no][i],OLED_DATA);<span class="comment">//16x16字号</span></span><br><span class="line"><span class="comment">//		else if(sizey==xx) OLED_WR_Byte(xxx[c][i],OLED_DATA);//用户添加字号</span></span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span>;</span><br><span class="line">	&#125;				</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//显示图片</span></span><br><span class="line"><span class="comment">//x,y显示坐标</span></span><br><span class="line"><span class="comment">//sizex,sizey,图片长宽</span></span><br><span class="line"><span class="comment">//BMP：要显示的图片</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_DrawBMP</span><span class="params">(u8 x,u8 y,u8 sizex, u8 sizey,u8 BMP[])</span> &#123; 	</span><br><span class="line">  u16 j=<span class="number">0</span>;</span><br><span class="line">	u8 i,m;</span><br><span class="line">	sizey=sizey/<span class="number">8</span>+((sizey%<span class="number">8</span>)?<span class="number">1</span>:<span class="number">0</span>);</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;sizey;i++) &#123;</span><br><span class="line">		OLED_Set_Pos(x,i+y);</span><br><span class="line">    <span class="keyword">for</span>(m=<span class="number">0</span>;m&lt;sizex;m++) &#123;      </span><br><span class="line">			OLED_WR_Byte(BMP[j++],OLED_DATA);	    	</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化				    </span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OLED_Init</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">	OLED_RES_Clr();</span><br><span class="line">	delay_ms(<span class="number">200</span>);</span><br><span class="line">	OLED_RES_Set();</span><br><span class="line">	</span><br><span class="line">	OLED_WR_Byte(<span class="number">0xAE</span>,OLED_CMD);<span class="comment">//--turn off oled panel</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0x00</span>,OLED_CMD);<span class="comment">//---set low column address</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0x10</span>,OLED_CMD);<span class="comment">//---set high column address</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0x40</span>,OLED_CMD);<span class="comment">//--set start line address  Set Mapping RAM Display Start Line (0x00~0x3F)</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0x81</span>,OLED_CMD);<span class="comment">//--set contrast control register</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0xCF</span>,OLED_CMD); <span class="comment">// Set SEG Output Current Brightness</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0xA1</span>,OLED_CMD);<span class="comment">//--Set SEG/Column Mapping     0xa0左右反置 0xa1正常</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0xC8</span>,OLED_CMD);<span class="comment">//Set COM/Row Scan Direction   0xc0上下反置 0xc8正常</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0xA6</span>,OLED_CMD);<span class="comment">//--set normal display</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0xA8</span>,OLED_CMD);<span class="comment">//--set multiplex ratio(1 to 64)</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0x3f</span>,OLED_CMD);<span class="comment">//--1/64 duty</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0xD3</span>,OLED_CMD);<span class="comment">//-set display offset	Shift Mapping RAM Counter (0x00~0x3F)</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0x00</span>,OLED_CMD);<span class="comment">//-not offset</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0xd5</span>,OLED_CMD);<span class="comment">//--set display clock divide ratio/oscillator frequency</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0x80</span>,OLED_CMD);<span class="comment">//--set divide ratio, Set Clock as 100 Frames/Sec</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0xD9</span>,OLED_CMD);<span class="comment">//--set pre-charge period</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0xF1</span>,OLED_CMD);<span class="comment">//Set Pre-Charge as 15 Clocks &amp; Discharge as 1 Clock</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0xDA</span>,OLED_CMD);<span class="comment">//--set com pins hardware configuration</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0x12</span>,OLED_CMD);</span><br><span class="line">	OLED_WR_Byte(<span class="number">0xDB</span>,OLED_CMD);<span class="comment">//--set vcomh</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0x40</span>,OLED_CMD);<span class="comment">//Set VCOM Deselect Level</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0x20</span>,OLED_CMD);<span class="comment">//-Set Page Addressing Mode (0x00/0x01/0x02)</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0x02</span>,OLED_CMD);<span class="comment">//</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0x8D</span>,OLED_CMD);<span class="comment">//--set Charge Pump enable/disable</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0x14</span>,OLED_CMD);<span class="comment">//--set(0x10) disable</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0xA4</span>,OLED_CMD);<span class="comment">// Disable Entire Display On (0xa4/0xa5)</span></span><br><span class="line">	OLED_WR_Byte(<span class="number">0xA6</span>,OLED_CMD);<span class="comment">// Disable Inverse Display On (0xa6/a7) </span></span><br><span class="line">	OLED_Clear();</span><br><span class="line">	OLED_WR_Byte(<span class="number">0xAF</span>,OLED_CMD); <span class="comment">/*display ON*/</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="硬件实现"><a href="#硬件实现" class="headerlink" title="硬件实现"></a>硬件实现</h4><p>STC8H 本身支持硬件实现，就是不用上面他们写的函数，给换成我们 STC8H 库函数中的读写函数就可以了。</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">首页</a></li>
        
          <li><a href="/about/">博主</a></li>
        
          <li><a href="/tags/">标签</a></li>
        
          <li><a href="/categories/">分类</a></li>
        
          <li><a href="/archives/">归档</a></li>
        
          <li><a href="/search/">搜索</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#I2C-%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.</span> <span class="toc-text">I2C 协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSD1306"><span class="toc-number">2.</span> <span class="toc-text">SSD1306</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.1.</span> <span class="toc-text">实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6%E6%A8%A1%E6%8B%9F"><span class="toc-number">2.1.1.</span> <span class="toc-text">软件模拟</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A1%AC%E4%BB%B6%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.1.2.</span> <span class="toc-text">硬件实现</span></a></li></ol></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&text=I2C_OLED显示"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&title=I2C_OLED显示"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&is_video=false&description=I2C_OLED显示"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=I2C_OLED显示&body=Check out this article: https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&title=I2C_OLED显示"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&title=I2C_OLED显示"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&title=I2C_OLED显示"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&title=I2C_OLED显示"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&name=I2C_OLED显示&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://www.tooupper.org/%E5%B5%8C%E5%85%A5%E5%BC%8F/%E5%8D%95%E7%89%87%E6%9C%BA/STC8H/I2C_OLED%E6%98%BE%E7%A4%BA/&t=I2C_OLED显示"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2024-2025
    kay
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">博主</a></li><!--
     --><!--
       --><li><a href="/tags/">标签</a></li><!--
     --><!--
       --><li><a href="/categories/">分类</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/search/">搜索</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板！\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功！");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
